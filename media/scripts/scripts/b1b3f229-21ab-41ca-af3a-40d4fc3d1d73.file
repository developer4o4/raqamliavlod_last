a = input()
p, m = map(int, input().split())
b = ""
c = ""
for i in a:
	if i == 'x':
		b += '0'
		c += '1'
	else:
		b += i
		c += i
k = eval(b)
x = eval(c) - k
x %= m
y = 0
if x == 0:
	print(0)
	exit(0)
while (y * x + k) % m != p:
	y += 1
print(y)